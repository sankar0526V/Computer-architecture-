LXI H,8000
MOV D,M
MOV A,M
INX H
MOV B,M
MOV E,M
L1: CMP B
JZ L3
JC L2
SUB B
JMP L1
L2: MOV C,B
MOV B,A
MOV A,C
JMP L1
L3: MOV C,A
MVI A,00H
L4: ADD D
DCR E
JNZ L4
MVI D,00H
L5: SUB C
INR D
JNC L5
ADD C
DCR D
MOV A,D
STA 8006
HLT